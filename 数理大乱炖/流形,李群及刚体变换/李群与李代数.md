群 (Group) 是一种集合加上一种运算的代数结构。我们把集合记作 $A$, 运算记作., 那么群可以记作 $G=(A, \cdot)$ 。群要求这个运算满足以下几个条件:
1. 封闭性: $\forall a_1, a_2 \in A, \quad a_1 \cdot a_2 \in A$.
2. 结合律: $\forall a_1, a_2, a_3 \in A,\left(a_1 \cdot a_2\right) \cdot a_3=a_1 \cdot\left(a_2 \cdot a_3\right)$.
3. 幺元: $\exists a_0 \in A$, s.t. $\forall a \in A, \quad a_0 \cdot a=a \cdot a_0=a$.
4. 逆: $\forall a \in A, \quad \exists a^{-1} \in A$, s.t. $a \cdot a^{-1}=a_0$.
读者可以将其记作 “封结幺逆”

李群特指具有***连续(光滑)性质***的群
李代数反映了李群在单位元附近的***正切空间***
以下举出两个李群例子
$$
\begin{aligned}
& \text{特殊正交群}\mathrm{SO}(3)=\left\{R \in \mathbb{R}^{3 \times 3} \mid R R^{\mathrm{T}}=I, \operatorname{det}(R)=1\right\} \\
& \text{特殊欧式群}\mathrm{SE}(3)=\left\{T=\left[\begin{array}{ll}
R & t \\
0^{\mathrm{T}} & 1
\end{array}\right] \in \mathbb{R}^{4 \times 4} \mid R \in \mathrm{SO}(3), t \in \mathbb{R}^3\right\}
\end{aligned}
$$
$$
\text { so(3) }=\left\{\phi \in \mathbb{R}^3, \Phi=\phi^{\wedge} \in \mathbb{R}^{3 \times 3}\right\} .
$$
$$
\operatorname{se}(3)=\left\{\xi=\left[\begin{array}{l}
\rho \\
\phi
\end{array}\right] \in \mathbb{R}^6, \rho \in \mathbb{R}^3, \phi \in \mathfrak{s o}(3), \xi^{\wedge}=\left[\begin{array}{cc}
\phi^{\wedge} & \rho \\
0^{\mathrm{T}} & 0
\end{array}\right] \in \mathbb{R}^{4 \times 4}\right\} .
$$
## 李代数引出
### so(3)
考虑任意旋转矩阵 $R$, 我们知道它满足:
$$
R R^{\mathrm{T}}=I
$$
现在，我们说， $R$ 是某个相机的旋转，它会随时间连续地变化，即为时间的函数: $R(t)$ 
$$
\boldsymbol{R}(t) \boldsymbol{R}(t)^{\mathrm{T}}=\boldsymbol{I}
$$
在等式两边对时间求导, 得到
$$
\dot{R}(t) R(t)^{\mathrm{T}}+\boldsymbol{R}(t) \dot{R}(t)^{\mathrm{T}}=0 .
$$
整理得
$$
\dot{R}(t) R(t)^{\mathrm{T}}=-\left(\dot{R}(t) R(t)^{\mathrm{T}}\right)^{\mathrm{T}}
$$
可以程出， $\dot{R}(t) R(t)^T$ 是一个反对称矩阵。回忆一下，我们在式 (3.3) 介绍又积时，引人了^
$$
a^{\wedge}=A=\left[\begin{array}{ccc}
0 & -a_3 & a_2 \\
a_3 & 0 & -a_1 \\
-a_2 & a_1 & 0
\end{array}\right], \quad A^{\vee}=a .
$$

千是, 由于 $\dot{R}(t) R(t)^T$ 是一个反对称矩阵，我们可以找到一个三维向量 $\phi(t) \in \mathbb{R}^3$ 与之对应:
$$
\dot{R}(t) R(t)^{\top}=\phi(t)^{\wedge} .
$$

等式两边右乘 $R(t)$ ，由于 $R$ 为正交阵，有
$$
\dot{R}(t)=\phi(t)^{\wedge} R(t)=\left[\begin{array}{ccc}
0 & -\phi_3 & \phi_2 \\
\phi_3 & 0 & -\phi_1 \\
-\phi_2 & \phi_1 & 0
\end{array}\right] R(t) .
$$

可以看到, 每对旋转矩阵求一次导数, 只需左乘一个 $\phi^{\wedge}(t)$ 矩阵即可。考虑 $t_0=0$ 时, 设此时赫转矩阵为 $R(0)=I$ 。 按照导数定义, 可以把 $R(t)$ 在 $t=0$ 附近进行一阶泰勒展开:
$$
\begin{aligned}
R(t) & \approx R\left(t_0\right)+\dot{R}\left(t_0\right)\left(t-t_0\right) \\
& =I+\phi\left(t_0\right)^{\wedge}(t) .
\end{aligned}
$$

我们看到 $\phi$ 反映了 $R$ 的导数性质, 故称它在 $\mathrm{SO}(3)$ 原点附近戥正切空间 (Tangent Space)上。同时在 $t_0$ 附近, 设 $\phi$ 保持为常数 $\phi\left(t_0\right)=\phi_0$ 。那么根据式 (4.8), 有
$$
\dot{R}(t)=\phi\left(t_0\right)^{\wedge} R(t)=\phi_0^{\wedge} R(t) .
$$

上式是一个关于 $R$ 的微分方程, 而且有初始值 $R(0)=I$, 解得
$$
R(t)=\exp \left(\phi_0^{\wedge} t\right) .
$$

读者可以验证上式对微分方程和初始值均成立。这说明在 $t=0$ 附近, 旋转矩阵可以由李代数算出来
### se(3)
特殊欧氏群 $SE(3)$ 是描述3D空间中的刚体变换的群。它的李代数 $\mathfrak{se}(3)$ 描述了$SE(3)$ 附近单位元的局部性质。

为了得到 $\mathfrak{se}(3)$，我们考虑 $SE(3)$ 中的一个无穷小变换。这个无穷小变换可以由一个小的旋转$\omega$ 和一个小的平移 v 描述。

这些无穷小变换可以表示为以下的斜对称矩阵形式：

$$
\xi^{\wedge} = \begin{bmatrix}
[\omega]_{\times} & v \\
0 & 0
\end{bmatrix}
$$

其中，$\xi = \begin{bmatrix} \omega \\ v \end{bmatrix}$是一个6维向量，$[\omega]_{\times}$ 是3x3的斜对称矩阵，表示 $\omega$ 的叉乘。

因此，李代数 $\mathfrak{se}(3)$ 的元素是这种4x4的斜对称矩阵，其上部是3x3的斜对称矩阵，用于描述旋转，而其右侧的列向量则用于描述平移。

## 指数与对数映射，李代数与李群互相转换
### so(3)
现在来考虑第二个问题: 如何计算 $\exp \left(\phi^{\wedge}\right)$ ? 显然它是一个矩阵的指数, 在李群和李代数中，称为指数映射 (Exponential Map)。同样, 我们会先讨论 $50(3)$ 的指数映射, 再讨论 $5 e(3)$ 的情形,任意矩阵的指数映射可以写成一个泰勒展开, 但是只有在收敛的情况下才会有结果, 其结果仍是一个矩阵:
$$
\exp (A)=\sum_{n=0}^{\infty} \frac{1}{n !} A^n
$$

同样地, 对 $so$ (3) 中的任意元索 $\phi$, 我们也可按此方式定义它的指数映射:
$$
\exp \left(\phi^{\wedge}\right)=\sum_{n=0}^{\infty} \frac{1}{n !}\left(\phi^{\wedge}\right)^n
$$

但这个定义没法直接计算, 因为我们不想计算矩阵的无穷次幂。下面我们推导一种计算指数映射的简便方法。由于 $\phi$ 是三维向量, 我们可以定义它的模长和方向, 分别记作 $\theta$ 和 $a$, 于是有 $\phi=\theta a$ 。这里 $a$ 是一个长度为 1 的方向向量, 即 $\|a\|=1$ 。首先, 对于 $a^{\wedge}$, 有以下两条性质:
$$
a^{\wedge} a^{\wedge}=\left[\begin{array}{ccc}
-a_2^2-a_3^2 & a_1 a_2 & a_1 a_3 \\
a_1 a_2 & -a_1^2-a_3^2 & a_2 a_3 \\
a_1 a_3 & a_2 a_3 & -a_1^2-a_2^2
\end{array}\right]=a a^{\mathrm{T}}-I
$$

以及
$$
a^{\wedge} a^{\wedge} a^{\wedge}=a^{\wedge}\left(a a^{\mathrm{T}}-I\right)=-a^{\wedge}
$$
这两个式子提供了处理 $a^{\wedge}$ 高阶项的方法。我们可以把指数映射写成
$$

$$
$$
\begin{aligned}
\exp \left(\phi^{\wedge}\right)=\exp \left(\theta a^{\wedge}\right)&=\sum_{n=0}^{\infty} \frac{1}{n !}\left(\theta a^{\wedge}\right)^n\\
& =I+\theta a^{\wedge}+\frac{1}{2 !} \theta^2 a^{\wedge} a^{\wedge}+\frac{1}{3 !} \theta^3 a^{\wedge} a^{\wedge} a^{\wedge}+\frac{1}{4 !} \theta^4\left(a^{\wedge}\right)^4+\cdots \\
& =a a^{\mathrm{T}}-a^{\wedge} a^{\wedge}+\theta a^{\wedge}+\frac{1}{2 !} \theta^2 a^{\wedge} a^{\wedge}-\frac{1}{3 !} \theta^3 a^{\wedge}-\frac{1}{4 !} \theta^4\left(a^{\wedge}\right)^2+\cdots \\
& =a a^{\mathrm{T}}+\underbrace{\left(\theta-\frac{1}{3 !} \theta^3+\frac{1}{5 !} \theta^5-\cdots\right)}_{\sin \theta} a^{\wedge}-\underbrace{\left(1-\frac{1}{2 !} \theta^2+\frac{1}{4 !} \theta^4-\cdots\right)}_{\cos \theta} a^{\wedge} a^{\wedge} \\
& =a^{\wedge} a^{\wedge}+I+\sin \theta a^{\wedge}-\cos \theta a^{\wedge} a^{\wedge} \\
& =(1-\cos \theta) a^{\wedge} a^{\wedge}+I+\sin \theta a^{\wedge} \\
& =\cos \theta I+(1-\cos \theta) a a^{\mathrm{T}}+\sin \theta a^{\wedge} .
\end{aligned}
$$

最后, 得到一个似曾相识的式子:
$$
\exp \left(\theta a^{\wedge}\right)=\cos \theta I+(1-\cos \theta) a a^{\mathrm{T}}+\sin \theta a^{\wedge}
$$
也就是罗德里格斯旋转公式，这表明so(3)实际上就是所谓的旋转向量组成的空间，而指数映射就是罗德里格斯公式
### se(3)
## BCH公式与近似形式

## 扰动模型（左乘）